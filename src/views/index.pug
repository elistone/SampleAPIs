include partials/header.pug

main#app
  article.site
    .site__inner
      h1.site__title Sample APIs
      p Welcome to SampleAPIs. A playground for messing with RESTful and GraphQL endpoints. Checkout the project on 
        a(href="https://github.com/jermbo/SampleAPIs") GitHub 
        | and consider contributing to the project with a new endpoint!
      p You can use any HTTP verbs (GET, POST, PUT, PATCH and DELETE) and access your resources from anywhere using CORS and JSONP.
      .disclaimer
        p * The data on this site is for educational purposes only and is not owned by SampleAPIs.com
        p * The data on this site will be reset on a regular basis.
      p.example_code Example code:
      .code-group
        button.copy Copy
        .copied
          p Copied!
        code(spellcheck="false")
          p const baseURL = "https://sampleapis.com/futurama/api/characters";
          p fetch(baseURL)
          p   .then(resp => resp.json())
          p   .then(data => console.log(data));
        textarea.hidden
      p.Explanation Want to Search? Then use this endpoint:
      .code-group
        button.copy Copy
        .copied
          p Copied!
        code(spellcheck="false")
          p const baseURL = "https://sampleapis.com/futurama/api/characters";
          p fetch(`${baseURL}?name.first=Bender`)
          p   .then(resp => resp.json())
          p   .then(data => console.log(data));
        textarea.hidden
  
  section.apis
    apis(v-for="api, i in apis" :api="api" :key="i")


template#api
  article.api
    header.api-header
      h2.api__title(:data-shadow="api.title") {{ api.title }}
      p.api__desc {{ api.desc }}
    section.api-links
      a.api__link(:href="api.link") API Link
      a.api__link(:href="api.graphLink" target="_blank") GraphQL Link

script(src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js")
script.
  const api = Vue.component("Apis", {
    template: "#api",
    props: ["api"]
  });
  const apiList = !{apiList};
  
  const app = new Vue({
    el: ".apis",
    data: function() {
      return {
        apis: apiList
      }
    },
    components: {
      apis: api
    }
  });

script(src="./scripts/CodeHighlight.js")
script.
  document.querySelectorAll(".code-group").forEach(group => {
    new CodeHighlight(group)
  })